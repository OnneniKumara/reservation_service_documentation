<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class AuthorizationService | Reservation Service - documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class AuthorizationService | Reservation Service - documentation ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/miikapihkola/Reservation_Service/new/main/apiSpec/new?filename=Backend_Reservation_Service_Services_AuthorizationService.md&amp;value=---%0Auid%3A%20Backend_Reservation_Service.Services.AuthorizationService%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="Reservation Service - documentation">
            Reservation Service - documentation
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Backend_Reservation_Service.Services.AuthorizationService">



  <h1 id="Backend_Reservation_Service_Services_AuthorizationService" data-uid="Backend_Reservation_Service.Services.AuthorizationService" class="text-break">
Class AuthorizationService  <a class="header-action link-secondary" title="View source" href="https://github.com/miikapihkola/Reservation_Service/blob/main/Backend/Services/AuthorizationService.cs/#L6"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="Backend_Reservation_Service.html">Backend_Reservation_Service</a>.<a class="xref" href="Backend_Reservation_Service.Services.html">Services</a></dd></dl>
  <dl><dt>Assembly</dt><dd>Backend_Reservation_Service.dll</dd></dl>
  </div>

  <div class="markdown summary"></div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class AuthorizationService : IAuthorizationService</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">AuthorizationService</span></div>
    </dd>
  </dl>

  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="Backend_Reservation_Service.Services.IAuthorizationService.html">IAuthorizationService</a></div>
    </dd>
  </dl>


  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>






  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="Backend_Reservation_Service_Services_AuthorizationService__ctor_" data-uid="Backend_Reservation_Service.Services.AuthorizationService.#ctor*"></a>

  <h3 id="Backend_Reservation_Service_Services_AuthorizationService__ctor_Backend_Reservation_Service_Data_Repositories_IUserRepository_Backend_Reservation_Service_Data_Repositories_IReservationRepository_" data-uid="Backend_Reservation_Service.Services.AuthorizationService.#ctor(Backend_Reservation_Service.Data.Repositories.IUserRepository,Backend_Reservation_Service.Data.Repositories.IReservationRepository)">
  AuthorizationService(IUserRepository, IReservationRepository)
  <a class="header-action link-secondary" title="View source" href="https://github.com/miikapihkola/Reservation_Service/blob/main/Backend/Services/AuthorizationService.cs/#L11"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public AuthorizationService(IUserRepository userRepository, IReservationRepository reservationService)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>userRepository</code> <a class="xref" href="Backend_Reservation_Service.Data.Repositories.IUserRepository.html">IUserRepository</a></dt>
    <dd></dd>
    <dt><code>reservationService</code> <a class="xref" href="Backend_Reservation_Service.Data.Repositories.IReservationRepository.html">IReservationRepository</a></dt>
    <dd></dd>
  </dl>












  <h2 class="section" id="methods">Methods
</h2>


  <a id="Backend_Reservation_Service_Services_AuthorizationService_IsAllowedToManipulateReservationAsync_" data-uid="Backend_Reservation_Service.Services.AuthorizationService.IsAllowedToManipulateReservationAsync*"></a>

  <h3 id="Backend_Reservation_Service_Services_AuthorizationService_IsAllowedToManipulateReservationAsync_System_String_System_Int64_" data-uid="Backend_Reservation_Service.Services.AuthorizationService.IsAllowedToManipulateReservationAsync(System.String,System.Int64)">
  IsAllowedToManipulateReservationAsync(string, long)
  <a class="header-action link-secondary" title="View source" href="https://github.com/miikapihkola/Reservation_Service/blob/main/Backend/Services/AuthorizationService.cs/#L31"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Determines whether the specified user is allowed to manipulate the reservation with the given ID.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;bool&gt; IsAllowedToManipulateReservationAsync(string username, long id)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>username</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The username of the user attempting to manipulate the reservation.</p>
</dd>
    <dt><code>id</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int64">long</a></dt>
    <dd><p>The ID of the reservation to be manipulated.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a>&gt;</dt>
    <dd><p>A task that represents the asynchronous operation.
The task result contains a boolean value indicating whether the user is allowed to manipulate the reservation.</p>
</dd>
  </dl>







  <h4 class="section" id="Backend_Reservation_Service_Services_AuthorizationService_IsAllowedToManipulateReservationAsync_System_String_System_Int64__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This method first checks if the user exists. If the user does not exist, it returns false.
It then retrieves the roles of the user and checks if the user has the &quot;Admin&quot; role. If the user is an admin, it returns true.
If the user is not an admin, it retrieves the reservation by its ID. If the reservation does not exist or is deleted, it returns false.
Finally, it checks if the reservation is not deleted and if the reservation belongs to the user. If both conditions are met, it returns true.</p>
</div>





</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/miikapihkola/Reservation_Service/blob/main/Backend/Services/AuthorizationService.cs/#L6" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
